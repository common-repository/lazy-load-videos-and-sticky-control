var LLASCV = function () { "use strict"; var oInitFrTop = "", oInitFrHeight = "", ollascvPlayers = {}; function _iframeScrollHandler() { const e = document.querySelector(".llvasc-video-container .activideo"); e && _videoSticky(e) } function _videoSticky(e) { var t = window.pageYOffset, i = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; oInitFrTop + oInitFrHeight < t || t < oInitFrTop - i ? e.classList.add("is-sticky") : e.classList.remove("is-sticky") } function outerHeight(e) { var t = e.offsetHeight, i = window.getComputedStyle(e); return ["top", "bottom"].map(function (e) { return parseInt(i["margin-".concat(e)]) }).reduce(function (e, t) { return e + t }, t) } function oInitFrTopHeight(e, t) { oInitFrTop = e, oInitFrHeight = t } function llascvPlayers(e, t) { void 0 === ollascvPlayers[e] ? ollascvPlayers[e] = [t] : ollascvPlayers[e].push(t) } function pauseOtherVideos(targetSrc) { Object.keys(ollascvPlayers).forEach(function (key) { eval(key).pauseOtherVideos(targetSrc, ollascvPlayers[key]) }) } function init() { _iframeScrollHandler() } return { init: init, outerHeight: outerHeight, oInitFrTopHeight: oInitFrTopHeight, llascvPlayers: llascvPlayers, pauseOtherVideos: pauseOtherVideos, ollascvPlayers: ollascvPlayers } }(); document.addEventListener("scroll", function () { LLASCV.init() }, !1); var YouTube_LLASCV = function () { "use strict"; function e(e) { var i = document.createElement("iframe"), o = document.querySelector('[data-replace="' + e + '"]'); i.setAttribute("class", "youtube-player"), i.setAttribute("vsrc", "youtube"), i.setAttribute("src", "https://www.youtube.com/embed/ID?enablejsapi=1&autoplay=1&modestbranding=1&rel=0&iv_load_policy=3".replace("ID", e)), i.setAttribute("id", e), i.setAttribute("width", "560"), i.setAttribute("height", "480"), i.setAttribute("frameborder", "0"), i.setAttribute("allow", "autoplay"), i.setAttribute("allowfullscreen", "1"), o.parentNode.replaceChild(i, o), function (e) { var i = new YT.Player(e, { events: { onStateChange: t } }); LLASCV.llascvPlayers("YouTube_LLASCV", i), LLASCV.oInitFrTopHeight() }(e) } function t(e) { const t = e.target.getVideoUrl(), i = e.target.getVideoData().video_id; if (e.data == YT.PlayerState.PLAYING) { document.getElementById(i).classList.add("activideo"); var o = document.getElementById(i).getBoundingClientRect().top + document.documentElement.scrollTop, a = LLASCV.outerHeight(document.getElementById(i)); LLASCV.pauseOtherVideos(t), LLASCV.oInitFrTopHeight(o, a) } else e.data != YT.PlayerState.PAUSED && e.data != YT.PlayerState.ENDED || (document.getElementById(i).classList.remove("activideo"), document.getElementById(i).classList.remove("is-sticky")) } return { init: function () { var t, i = document.querySelectorAll('[data-vsrc="youtube"]'); if (i.length) { var o, a, r = document.createElement("script"); for (r.src = "https://www.youtube.com/iframe_api", r.setAttribute("async", ""), r.setAttribute("defer", ""), document.body.appendChild(r), a = 0; a < i.length; a++)(o = document.createElement("div")).setAttribute("data-id", i[a].dataset.id), o.setAttribute("data-replace", i[a].dataset.id), o.innerHTML = (t = i[a].dataset.id, '<img width="560" src="https://i.ytimg.com/vi/ID/hqdefault.jpg">'.replace("ID", t) + '<div class="play"></div>'), o.onclick = e.bind(this, i[a].dataset.id), i[a].appendChild(o) } }, pauseOtherVideos: function (e, t) { for (var i = 0; i < t.length; i++)if (t[i].getVideoUrl() != e) { t[i].pauseVideo(); var o = t[i].getVideoData().video_id; document.getElementById(o).classList.remove("activideo"), document.getElementById(o).classList.remove("is-sticky") } } } }(); YouTube_LLASCV.init();